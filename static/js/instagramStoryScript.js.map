{"version":3,"file":"static/js/instagramStoryScript.js","mappings":"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","sources":["content/instagramStory.ts"],"sourcesContent":["(()=>{\n    document.head.setAttribute('VideoUrlForStory','null');\n    document.head.setAttribute('PostUrlForStory','null');\n    const isReels = document.location.href.split('/reels/').length === 2;\n    const storyVideos = document.querySelectorAll('video');\n    let storyVideoUrl: string | null = null;\n    for (var i=storyVideos.length - 1;i >= 0;i--) {\n        if(storyVideos[i].offsetHeight === 0)\n            continue;\n        var reactKey = '';\n        const keys = Object.keys(storyVideos[i]);\n        for (var j=0;j<keys.length;j++) {\n            if (keys[j].indexOf ('__reactFiber') !== -1) {\n                reactKey = keys[j].split('__reactFiber')[1];\n                break;\n            }\n        }\n        if(isReels) {\n            const reelId = document.location.pathname.split('/')[2];\n            // @ts-ignore\n            if(reelId !== storyVideos[i].parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children[i].props.children.props.children.props.queryReference.code)\n                continue;\n        }\n        try {\n            // @ts-ignore\n            const storyPostLength = storyVideos[i].parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children.props.children[0].props.children.props.children.props.post.displayResources.length;\n            if(storyPostLength >= 2) {\n                // @ts-ignore\n                storyPostUrl = storyVideos[i].parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children.props.children[0].props.children.props.children.props.post.displayResources[storyPostLength-2].src;\n            } else if(storyPostLength === 1){\n                // @ts-ignore\n                storyPostUrl = storyVideos[i].parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children.props.children[0].props.children.props.children.props.post.displayResources[0].src;\n            }\n        } catch (e){ }\n         try {\n             // @ts-ignore\n            storyVideoUrl = storyVideos[i].parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children.props.children.props.implementations[0].data.hdSrc;\n        } catch (e){ }\n        if (storyVideoUrl == null){\n            try {\n                // @ts-ignore\n                storyVideoUrl = storyVideos[i].parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children[0].props.children.props.implementations[1].data.hdSrc;\n            } catch (e){ }\n        }\n        if (storyVideoUrl == null){\n            try {\n                // @ts-ignore\n                storyVideoUrl = storyVideos[i].parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children.props.children.props.implementations[0].data.sdSrc;\n            } catch (e){ }\n        }\n        if (storyVideoUrl == null){\n            try {\n                // @ts-ignore\n                storyVideoUrl = storyVideos[i].parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children[0].props.children.props.implementations[1].data.sdSrc;\n            } catch (e){ }\n        }\n        if (storyVideoUrl == null){\n            try {\n                // @ts-ignore\n                storyVideoUrl = storyVideos[i].parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children.props.children.props.implementations[1].data.hdSrc;\n            } catch (e){ }\n        }\n        if (storyVideoUrl == null){\n            try {\n                // @ts-ignore\n                storyVideoUrl = storyVideos[i].parentElement.parentElement.parentElement.parentElement['__reactProps'+reactKey].children.props.children.props.implementations[1].data.sdSrc;\n            } catch (e){ }\n        }\n        if (storyVideoUrl == null){\n            try {\n                // @ts-ignore\n                storyVideoUrl = storyVideos[i]['__reactFiber'+reactKey].return.stateNode.props.videoData.$1.hd_src;\n            } catch (e){ }\n        }\n        if (storyVideoUrl == null){\n            try {\n                // @ts-ignore\n                storyVideoUrl = storyVideos[i]['__reactFiber'+reactKey].return.stateNode.props.videoData.$1.sd_src;\n            } catch (e){ }\n        }\n        if (storyVideoUrl != null)\n            break;\n    }\n    document.head.setAttribute('VideoUrlForStory',storyVideoUrl ?? '');\n})();\nexport {};"],"names":["_storyVideoUrl","document","head","setAttribute","isReels","location","href","split","length","storyVideos","querySelectorAll","storyVideoUrl","i","offsetHeight","reactKey","keys","Object","j","indexOf","pathname","parentElement","children","props","queryReference","code","storyPostLength","post","displayResources","storyPostUrl","src","e","implementations","data","hdSrc","sdSrc","return","stateNode","videoData","$1","hd_src","sd_src"],"sourceRoot":""}