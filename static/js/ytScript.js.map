{"version":3,"file":"static/js/ytScript.js","mappings":"mBAAA,MACI,MAEMA,EAFcC,SAASC,eAAe,gBAETC,oBACnC,IAAIH,EAAiB,OACrB,MAAMI,EAAgB,CAAC,GAAI,GAAI,GAAI,GAAK,GAAI,IACtCC,EAAa,CACf,GAAI,CAACC,OAAQ,MAAOC,QAAS,OAAQC,IAAK,MAAOC,KAAM,IACvD,GAAI,CAACH,OAAQ,MAAOC,QAAS,OAAQC,IAAK,MAAOC,KAAM,IACvD,GAAI,CAACH,OAAQ,MAAOC,QAAS,OAAQC,IAAK,MAAOC,KAAM,IACvD,GAAI,CAACH,OAAQ,OAAQC,QAAS,OAAQC,IAAK,OAAQC,KAAM,IACzD,GAAI,CAACH,OAAQ,OAAQC,QAAS,OAAQC,IAAK,OAAQC,KAAM,IACzD,GAAI,CAACH,OAAQ,OAAQC,QAAS,OAAQC,IAAK,OAAQC,KAAM,IACzD,GAAI,CAACH,OAAQ,OAAQC,QAAS,QAASC,IAAK,OAAQC,KAAM,IAC1D,IAAK,CAACH,OAAQ,MAAOC,QAAS,OAAQC,IAAK,MAAOC,KAAM,YACxD,IAAK,CAACH,OAAQ,MAAOC,QAAS,OAAQC,IAAK,MAAOC,KAAM,YACxD,IAAK,CAACH,OAAQ,MAAOC,QAAS,QAASC,IAAK,MAAOC,KAAM,YACzD,IAAK,CAACH,OAAQ,MAAOC,QAAS,QAASC,IAAK,MAAOC,KAAM,YACzD,IAAK,CAACH,OAAQ,MAAOC,QAAS,UAAWC,IAAK,MAAOC,KAAM,cAC3D,IAAK,CAACH,OAAQ,OAAQC,QAAS,OAAQC,IAAK,OAAQC,KAAM,YAC1D,IAAK,CAACH,OAAQ,MAAOC,QAAS,QAASC,IAAK,MAAOC,KAAM,YACzD,IAAK,CAACH,OAAQ,MAAOC,QAAS,QAASC,IAAK,MAAOC,KAAM,YACzD,IAAK,CAACH,OAAQ,MAAOC,QAAS,YAAaC,IAAK,MAAOC,KAAM,YAC7D,IAAK,CAACH,OAAQ,MAAOC,QAAS,aAAcC,IAAK,MAAOC,KAAM,aAElE,IAAIC,EAAaV,EAAeW,cAAcC,QAAQC,OAAOb,EAAeW,cAAcG,iBAC1FC,QAAQC,IAAIN,GACZA,EAAWO,SAAQ,SAAUX,EAAiFY,GAC1G,IAA2C,IAAxCd,EAAce,QAAQb,EAAOc,MAAe,OAAO,EACtD,IAAIC,EACJ,GAAIf,EAAOgB,IACPD,EAAWf,EAAOgB,SAElB,GAAGhB,EAAOiB,OACNF,EAAWf,EAAOiB,YACf,GAAGjB,EAAOkB,gBAAiB,CAC9BH,EAAWf,EAAOkB,gBAClBH,EAAWA,EAASI,MAAM,SAC1BJ,EAAWK,mBAAmBL,EAAS,GAAK,IAAMA,EAAS,IAC3D,IAAIM,EAAiB,IAAIC,gBAAgBP,GACrCM,EAAeE,IAAI,QACnBR,EAAYA,EAAW,IAAMM,EAAeE,IAAI,MAAQ,IAAMF,EAAeE,IAAI,KAAM,SAE/F,CAGJd,QAAQC,IAAIE,EAAGG,GAEZA,GAAYhB,EAAUC,EAAOc,QAE5Bf,EAAUC,EAAOc,MAAME,IAAMD,EAErC,IAEAS,aAAaC,QAAQ,eAAgBC,KAAKC,UAAU5B,GAEvD,EAxDD,E","sources":["content/ytScript.ts"],"sourcesContent":["(() => {\n    const moviePlayer = document.getElementById(\"movie_player\");\n    // @ts-ignore\n    const playerResponse = moviePlayer.getPlayerResponse();\n    if(!playerResponse) {return }\n    const neededFormats = [17, 18, 43, 44,  22, 45];\n    const ytFormats =  {\n        17: {format: \"3GP\", quality: \"240p\", ext: \"3gp\", note: \"\"},\n        18: {format: \"MP4\", quality: \"360p\", ext: \"mp4\", note: \"\"},\n        22: {format: \"MP4\", quality: \"720p\", ext: \"mp4\", note: \"\"},\n        43: {format: \"WebM\", quality: \"360p\", ext: \"webm\", note: \"\"},\n        44: {format: \"WebM\", quality: \"480p\", ext: \"webm\", note: \"\"},\n        45: {format: \"WebM\", quality: \"720p\", ext: \"webm\", note: \"\"},\n        46: {format: \"WebM\", quality: \"1080p\", ext: \"webm\", note: \"\"},\n        135: {format: \"MP4\", quality: \"480p\", ext: \"mp4\", note: \"no audio\"},\n        136: {format: \"MP4\", quality: \"720p\", ext: \"mp4\", note: \"no audio\"},\n        137: {format: \"MP4\", quality: \"1080p\", ext: \"mp4\", note: \"no audio\"},\n        138: {format: \"MP4\", quality: \"2160p\", ext: \"mp4\", note: \"no audio\"},\n        140: {format: \"M4A\", quality: \"128kbps\", ext: \"m4a\", note: \"audio only\"},\n        247: {format: \"WebM\", quality: \"720p\", ext: \"webm\", note: \"no audio\"},\n        264: {format: \"MP4\", quality: \"1440p\", ext: \"mp4\", note: \"no audio\"},\n        266: {format: \"MP4\", quality: \"2160p\", ext: \"mp4\", note: \"no audio\"},\n        298: {format: \"MP4\", quality: \"720p60fps\", ext: \"mp4\", note: \"no audio\"},\n        299: {format: \"MP4\", quality: \"1080p60fps\", ext: \"mp4\", note: \"no audio\"}\n    };\n    let allFormats = playerResponse.streamingData.formats.concat(playerResponse.streamingData.adaptiveFormats);\n    console.log(allFormats)\n    allFormats.forEach(function (format: { itag: number; url: string; cipher: string; signatureCipher: string; }, i: any) {\n        if(neededFormats.indexOf(format.itag) === -1) {return 0}\n        let videoUrl;\n        if (format.url) {\n            videoUrl = format.url;\n        } else {\n            if(format.cipher) {\n                videoUrl = format.cipher;\n            } else if(format.signatureCipher) {\n                videoUrl = format.signatureCipher;\n                videoUrl = videoUrl.split(\"&url=\");\n                videoUrl = decodeURIComponent(videoUrl[1] + \"&\" + videoUrl[0]);\n                var videoUrlParams = new URLSearchParams(videoUrl);\n                if (videoUrlParams.get(\"sp\")) {\n                    videoUrl =  videoUrl + \"&\" + videoUrlParams.get(\"sp\") + \"=\" + videoUrlParams.get(\"s\") +\"&dec=1\";\n                }\n            }\n            // console.log(videoUrl);\n        }\n        console.log(i, videoUrl)\n        // @ts-ignore\n        if(videoUrl && ytFormats[format.itag]) {\n            // @ts-ignore\n            ytFormats[format.itag].url = videoUrl;\n        }\n    });\n    // console.log(\"YT formats\", ytFormats);\n    localStorage.setItem('videoDataStr', JSON.stringify(ytFormats));\n\n})()\n\nexport {};"],"names":["playerResponse","document","getElementById","getPlayerResponse","neededFormats","ytFormats","format","quality","ext","note","allFormats","streamingData","formats","concat","adaptiveFormats","console","log","forEach","i","indexOf","itag","videoUrl","url","cipher","signatureCipher","split","decodeURIComponent","videoUrlParams","URLSearchParams","get","localStorage","setItem","JSON","stringify"],"sourceRoot":""}